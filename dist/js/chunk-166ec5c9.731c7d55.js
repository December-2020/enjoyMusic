(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-166ec5c9"],{"2cb0":function(t,i,s){"use strict";var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"headline"},[s("div",{staticClass:"back",on:{click:t.backto}},[s("i",{staticClass:"iconfont icon-huitui"})]),s("div",{staticClass:"title"},[t._t("default")],2)])},a=[],e={methods:{backto:function(){this.$router.back()}}},c=e,l=(s("be5e"),s("2877")),o=Object(l["a"])(c,n,a,!1,null,"11bce994",null);i["a"]=o.exports},"60cf":function(t,i,s){},"62c3":function(t,i,s){"use strict";s("cbd9")},"9c6c":function(t,i,s){"use strict";s.r(i);var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.list?s("div",{staticClass:"chart_singer"},[t.ars?s("div",[s("head-line",[t._v(t._s(t.ars))])],1):t._e(),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]}),s("div",{staticClass:"singer_list"},[s("ul",t._l(t.list,(function(i){return s("li",{key:i.id},[s("div",{staticClass:"mes"},[s("div",{staticClass:"left"},[s("img",{attrs:{src:i.al.picUrl,alt:""}})]),s("div",{staticClass:"right"},[s("p",{staticClass:"songName"},[t._v(t._s(i.name))]),s("p",{staticClass:"songAlbum"},[t._v(t._s(i.al.name))])])]),s("div",{staticClass:"icon",on:{click:function(s){return t.playMusic(i)}}},[t.musicObj&&i.id==t.musicObj.id?s("loading"):s("i",{staticClass:"iconfont icon-bofang1"})],1)])})),0)]),t.isTheEnd?s("div",{staticClass:"theend"},[t._v("已经到底了,没有更多数据了")]):t._e()],1):t._e()},a=[],e=(s("d81d"),s("fb6a"),s("b0c0"),s("99af"),s("2cb0")),c=s("3a5e"),l={props:{id:String,musicObj:[Object,null]},components:{HeadLine:e["a"],Loading:c["a"]},data:function(){return{list:[],ars:"",allList:[],showLoading:!0,isTheEnd:!1,page:0,perpage:10}},activated:function(){var t=this;this.showLoading=!0,this.axios.get("/artist/top/song",{params:{id:this.id}}).then((function(i){t.allList=i.data.songs.map((function(t){return t.song={artists:t.ar,album:t.al},t})),t.list=t.allList.slice(0,10),t.ars=t.list[0].ar[0].name,t.showLoading=!1})),window.addEventListener("scroll",this.onScroll)},deactivated:function(){window.removeEventListener("scroll",this.onScroll)},methods:{playMusic:function(t){this.$emit("play",t)},onScroll:function(){var t=document.documentElement.scrollHeight,i=document.documentElement.scrollTop,s=document.documentElement.clientHeight;if(t-10-i-s<0){this.isLoading=!0,this.page++;var n=this.page*this.perpage,a=(this.page+1)*this.perpage;this.list=this.list.concat(this.allList.slice(n,a)),this.isLoading=!1,this.list.length==this.allList.length?this.isTheEnd=!0:this.isTheEnd=!1}}}},o=l,r=(s("62c3"),s("2877")),u=Object(r["a"])(o,n,a,!1,null,"50537a17",null);i["default"]=u.exports},b0c0:function(t,i,s){var n=s("83ab"),a=s("9bf2").f,e=Function.prototype,c=e.toString,l=/^\s*function ([^ (]*)/,o="name";n&&!(o in e)&&a(e,o,{configurable:!0,get:function(){try{return c.call(this).match(l)[1]}catch(t){return""}}})},be5e:function(t,i,s){"use strict";s("60cf")},cbd9:function(t,i,s){}}]);
//# sourceMappingURL=chunk-166ec5c9.731c7d55.js.map