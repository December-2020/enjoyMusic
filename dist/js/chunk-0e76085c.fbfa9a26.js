(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e76085c"],{"2cb0":function(t,i,s){"use strict";var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"headline"},[s("div",{staticClass:"back",on:{click:t.backto}},[s("i",{staticClass:"iconfont icon-huitui"})]),s("div",{staticClass:"title"},[t._t("default")],2)])},e=[],n={methods:{backto:function(){this.$router.back()}}},o=n,c=(s("b915"),s("2877")),l=Object(c["a"])(o,a,e,!1,null,"e608c8b8",null);i["a"]=l.exports},6544:function(t,i,s){"use strict";s("ff78")},b915:function(t,i,s){"use strict";s("cca9")},cca9:function(t,i,s){},d9dd:function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.obj&&t.list?s("div",{staticClass:"recommendsongs"},[s("head-line",[t._v("歌单")]),s("div",{staticClass:"top"},[s("div",{staticClass:"top_m"},[s("div",{staticClass:"left"},[s("img",{attrs:{src:t.obj.coverImgUrl,alt:""}})]),s("div",{staticClass:"right"},[t._v(t._s(t.obj.name))])]),s("div",{staticClass:"top_b"},[s("ul",{staticClass:"icon"},[s("li",{on:{click:t.isShowDis}},[s("i",{staticClass:"iconfont icon-pinglun1"}),s("span",[t._v(t._s(t._f("formatNum")(t.obj.commentCount)))])]),s("li",[s("i",{staticClass:"iconfont icon-xingzhuangjiehe3"}),s("span",[t._v(t._s(t._f("formatNum")(t.obj.playCount)))])]),s("li",[s("i",{staticClass:"iconfont icon-xiazai"}),s("span",[t._v(t._s(t._f("formatNum")(t.obj.subscribedCount)))])]),s("li",[s("i",{staticClass:"iconfont icon-fenxiang"}),s("span",[t._v(t._s(t._f("formatNum")(t.obj.shareCount)))])])])])]),s("div",{staticClass:"bottom"},[s("div",{staticClass:"title"},[s("div",{staticClass:"l",on:{click:function(i){return t.$emit("addPlayList",t.list)}}},[s("i",{staticClass:"iconfont icon-bofang1"}),s("p",[t._v("播放全部"),s("span",[t._v("共"+t._s(this.list.length)+"首")])])]),t._m(0)]),s("div",{staticClass:"song_list"},t._l(t.list,(function(i,a){return s("music-list",{key:i.id,attrs:{item:i,musicObj:t.musicObj},on:{play:function(i){return t.$emit("play",i)}},scopedSlots:t._u([{key:"sortNum",fn:function(){return[s("b",[t._v(t._s(a+1<10?"0"+(a+1):a+1))])]},proxy:!0}],null,!0)})})),1),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),s("transition",{attrs:{"enter-active-class":"animate__animated animate__slideInUp","leave-active-class":"animate__animated animate__slideOutDown"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDis,expression:"showDis"}],staticClass:"song_dis"},[s("div",{staticClass:"head"},[s("border-title",[t._v("评论")]),s("i",{staticClass:"iconfont icon-quxiao",on:{click:function(i){t.showDis=!1}}})],1),s("ul",t._l(t.dis,(function(i,a){return s("li",{key:a},[s("div",{staticClass:"left"},[s("img",{attrs:{src:i.user.avatarUrl,alt:""}})]),s("div",{staticClass:"right"},[s("h6",[t._v(t._s(i.user.nickname))]),s("p",{staticClass:"mes"},[t._v(t._s(i.content))]),s("p",{staticClass:"t"},[t._v(t._s(t._f("formatTime")(i.time)))])])])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isNoData,expression:"isNoData"}],staticClass:"noData"},[t._v("已经到底了,没有更多评论信息了")])])])],1)],1):t._e()},e=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"r"},[s("i",{staticClass:"iconfont icon-gedan"})])}],n=(s("d81d"),s("b680"),s("99af"),s("2cb0")),o=s("f382"),c=s("3a5e"),l=s("a785"),r={components:{HeadLine:n["a"],MusicList:o["a"],Loading:c["a"],BorderTitle:l["a"]},name:"RecommendSongs",props:["id","musicObj"],data:function(){return{obj:{},list:[],allList:[],dis:[],showDis:!1,isLoading:!0,page:0,perpage:20,isNoData:!1}},activated:function(){var t=this,i=this.id.substr(1);this.axios.get("/playlist/detail?id="+i).then((function(i){t.obj=i.data.playlist,t.list=i.data.playlist.tracks.map((function(t,s){return t.song={privilege:i.data.privileges[s],artists:t.ar,album:t.al},t}))})),this.getComment()},created:function(){window.addEventListener("scroll",this.onScroll)},filters:{formatNum:function(t){if(t>1e7){var i="";return i=(parseInt(t)/1e7).toFixed(1)+"千万",i}if(t>=1e4){var s="";return s=(parseInt(t)/1e4).toFixed(1)+"万",s}return t},formatTime:function(t){var i=new Date(t),s=i.getFullYear()+"-",a=(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"-",e=(i.getDate()<10?"0"+i.getDate():i.getDate())+" ",n=(i.getHours()<10?"0"+i.getHours():i.getHours())+":",o=(i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes())+":",c=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();return s+a+e+n+o+c}},deactivated:function(){this.list=[],this.obj={},this.dis=[],window.removeEventListener("scroll",this.onScroll)},methods:{isShowDis:function(){this.showDis=!this.showDis},getComment:function(){var t=this,i=this.id.substr(1);this.axios.get("/comment/playlist",{params:{id:i,limit:this.perpage,offset:this.perpage*this.page}}).then((function(i){if(0==i.data.comments.length)return t.isLoading=!1,void(t.isNoData=!0);t.dis=t.dis.concat(i.data.comments),t.isLoading=!1}))},onScroll:function(){var t=document.documentElement.scrollHeight,i=document.documentElement.scrollTop,s=document.documentElement.clientHeight;this.showDis&&t-10-i-s<0&&(this.isLoading=!0,this.page++,this.getComment())}}},u=r,d=(s("6544"),s("2877")),m=Object(d["a"])(u,a,e,!1,null,"5073bbde",null);i["default"]=m.exports},ff78:function(t,i,s){}}]);
//# sourceMappingURL=chunk-0e76085c.fbfa9a26.js.map