{"version":3,"sources":["webpack:///./src/components/HeadLine.vue?4886","webpack:///src/components/HeadLine.vue","webpack:///./src/components/HeadLine.vue?f7b8","webpack:///./src/components/HeadLine.vue?c90d","webpack:///./src/views/ChartSinger.vue?9db5","webpack:///./src/views/ChartSinger.vue?6a97","webpack:///src/views/ChartSinger.vue","webpack:///./src/views/ChartSinger.vue?2e50","webpack:///./src/views/ChartSinger.vue?5def","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/HeadLine.vue?d181"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","backto","_t","staticRenderFns","component","_v","_s","ars","_e","directives","name","rawName","value","expression","_l","item","key","id","attrs","al","picUrl","$event","playMusic","musicObj","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-0fabed44.72ca89e0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"headline\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.backto}},[_c('i',{staticClass:\"iconfont icon-huitui\"})]),_c('div',{staticClass:\"title\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"headline\">\r\n        <div class=\"back\" @click=\"backto\">\r\n            <i class=\"iconfont icon-huitui\"></i>\r\n        </div>\r\n        <div class=\"title\"><slot></slot></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    methods:{\r\n        backto(){\r\n            this.$router.back();\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@bgcolor:#fafafa;\r\n.headline{\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: darken(@bgcolor,2%);\r\n    .back{\r\n        // border: solid 1px blue;\r\n        color: lighten(#31d59d,20%);\r\n        // border: solid 1px red;\r\n        text-align: center;\r\n        box-sizing: border-box;\r\n        padding: 5px;\r\n        i{\r\n            font-size: 26px;\r\n        }\r\n    }\r\n    .title{\r\n        margin: 0 auto;\r\n        // border: solid 1px red;\r\n        padding: 10px 0;\r\n        color: lighten(#31d59d,10%);\r\n        transform: translateX(-20px);\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeadLine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeadLine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeadLine.vue?vue&type=template&id=e608c8b8&scoped=true&\"\nimport script from \"./HeadLine.vue?vue&type=script&lang=js&\"\nexport * from \"./HeadLine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeadLine.vue?vue&type=style&index=0&id=e608c8b8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e608c8b8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartSinger.vue?vue&type=style&index=0&id=50537a17&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.list)?_c('div',{staticClass:\"chart_singer\"},[(_vm.ars)?_c('div',[_c('head-line',[_vm._v(_vm._s(_vm.ars))])],1):_vm._e(),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLoading),expression:\"showLoading\"}]}),_c('div',{staticClass:\"singer_list\"},[_c('ul',_vm._l((_vm.list),function(item){return _c('li',{key:item.id},[_c('div',{staticClass:\"mes\"},[_c('div',{staticClass:\"left\"},[_c('img',{attrs:{\"src\":item.al.picUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"right\"},[_c('p',{staticClass:\"songName\"},[_vm._v(_vm._s(item.name))]),_c('p',{staticClass:\"songAlbum\"},[_vm._v(_vm._s(item.al.name))])])]),_c('div',{staticClass:\"icon\",on:{\"click\":function($event){return _vm.playMusic(item)}}},[(_vm.musicObj&&item.id == _vm.musicObj.id)?_c('loading'):_c('i',{staticClass:\"iconfont icon-bofang1\"})],1)])}),0)]),(_vm.isTheEnd)?_c('div',{staticClass:\"theend\"},[_vm._v(\"已经到底了,没有更多数据了\")]):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"chart_singer\" v-if=\"list\">\r\n        <div v-if=\"ars\">\r\n            <head-line>{{ars}}</head-line>\r\n        </div>\r\n        <loading v-show=\"showLoading\"></loading>\r\n        <div class=\"singer_list\">\r\n            <ul>\r\n                <li v-for=\"item in list\" :key=\"item.id\">\r\n                    <div class=\"mes\">\r\n                        <div class=\"left\">\r\n                            <img :src=\"item.al.picUrl\" alt=\"\">\r\n                        </div>\r\n                        <div class=\"right\">\r\n                            <p class=\"songName\">{{item.name}}</p>\r\n                            <p class=\"songAlbum\">{{item.al.name}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"icon\" @click=\"playMusic(item)\">\r\n                        <loading v-if=\"musicObj&&item.id == musicObj.id\"></loading>\r\n                        <i v-else class=\"iconfont icon-bofang1\"></i>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"theend\" v-if=\"isTheEnd\">已经到底了,没有更多数据了</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport HeadLine from '@/components/HeadLine';\r\nimport Loading from '@/components/Loading';\r\nexport default {\r\n    props:{\r\n        // ['id','musicObj']\r\n        id:String,\r\n        musicObj:[Object,null],\r\n    },\r\n    components:{HeadLine,Loading},\r\n    data(){\r\n        return{\r\n            list:[],\r\n            ars:'',\r\n            allList:[],\r\n            showLoading:true,\r\n            isTheEnd:false,\r\n            page:0,\r\n            // 每页最多显示条数\r\n            perpage:10,\r\n        }\r\n    },\r\n    activated(){\r\n        // console.log(this.id);\r\n        this.showLoading = true;\r\n        this.axios.get('/artist/top/song',{\r\n            params:{\r\n                id:this.id,\r\n            }\r\n        }).then(d=>{\r\n            // console.log(d);\r\n            // console.log(d.data.songs);\r\n            // this.list = d.data.songs.slice(0,10);\r\n            // console.log(this.list);\r\n            this.allList = d.data.songs.map(data => {\r\n                data.song = {\r\n                    artists:data.ar,\r\n                    album:data.al,\r\n                }\r\n                return data;\r\n            })\r\n            // console.log(this.allList);\r\n            this.list = this.allList.slice(0,10);\r\n            this.ars = this.list[0].ar[0].name;\r\n            this.showLoading=false;\r\n        });\r\n        window.addEventListener('scroll',this.onScroll);\r\n    },\r\n    deactivated(){\r\n        window.removeEventListener('scroll',this.onScroll);\r\n    },\r\n    methods:{\r\n        playMusic(event){\r\n            // console.log(event);\r\n            this.$emit('play',event);\r\n        },\r\n        onScroll(){\r\n            // 总高度\r\n            let totalHeight = document.documentElement.scrollHeight;\r\n            // 卷起来的高度\r\n            let hideHeight = document.documentElement.scrollTop;\r\n            // 视图高度\r\n            let viewHeight = document.documentElement.clientHeight;\r\n            if(totalHeight - 10 - hideHeight - viewHeight< 0){\r\n                this.isLoading=true;\r\n                this.page++; // 1  2\r\n                let start=(this.page)*this.perpage;// 20   40\r\n                let end=(this.page+1)*this.perpage;// 40   60\r\n                this.list=this.list.concat(this.allList.slice(start,end));\r\n                this.isLoading=false;\r\n                if(this.list.length == this.allList.length){\r\n                    this.isTheEnd = true;\r\n                }else{\r\n                    this.isTheEnd = false;\r\n                }\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.text-hidden{\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 1;\r\n    -webkit-box-orient: vertical;\r\n    overflow: hidden;\r\n}\r\n.chart_singer{\r\n    .singer_list{\r\n        ul{\r\n            li{\r\n                margin: 10px;\r\n                border: solid 1px lighten(#ccc,12%);\r\n                border-radius: 10px;\r\n                overflow: hidden;\r\n                display: flex;\r\n                justify-content: space-between;\r\n                align-items: center;\r\n                padding-right: 20px;\r\n                &:nth-child(2n){\r\n                    background-color: #fafafa;\r\n                }\r\n                .mes{\r\n                    display: flex;\r\n                    .left{\r\n                        img{\r\n                            height: 80px;\r\n                        }\r\n                    }\r\n                    .right{\r\n                        margin-left: 20px;\r\n                        // border: solid 1px red;\r\n                        .songName{\r\n                            margin: 10px 0;\r\n                            font-weight: bold;\r\n                            color: lighten(#000,30%);\r\n                            .text-hidden;\r\n                        }\r\n                        .songAlbum{\r\n                            margin-top: 22px;\r\n                            color: darken(#ccc,20%);\r\n                            font-size: 14px;\r\n                            .text-hidden;\r\n                        }\r\n                    }\r\n                }\r\n                .icon{\r\n                    // border: solid 1px red;\r\n                    i{\r\n                        font-size: 22px;\r\n                        color: lighten(#000,30%);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .theend{\r\n        font-size: 14px;\r\n        color: #ccc;\r\n        width: 100%;\r\n        text-align: center;\r\n        margin: 10px 0;\r\n        padding-bottom: 20px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartSinger.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartSinger.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartSinger.vue?vue&type=template&id=50537a17&scoped=true&\"\nimport script from \"./ChartSinger.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartSinger.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChartSinger.vue?vue&type=style&index=0&id=50537a17&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50537a17\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeadLine.vue?vue&type=style&index=0&id=e608c8b8&lang=less&scoped=true&\""],"sourceRoot":""}