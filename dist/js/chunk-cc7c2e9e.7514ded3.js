(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc7c2e9e"],{"0b70":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"hot"},[e("div",{staticClass:"title"},[e("div",{staticClass:"titlemes"},[e("div",{staticClass:"top"}),e("div",{staticClass:"middle"}),t.listInfo?e("p",[t._v(t._s(t._f("formatDate")(t.listInfo.trackUpdateTime,"y-m-d"))+" 更新")]):t._e()])]),e("div",{staticClass:"hot_list"},t._l(t.hotList,(function(i,s){return e("music-list",{key:i.id,attrs:{item:i,musicObj:t.musicObj},on:{play:function(i){return t.$emit("play",i)}},scopedSlots:t._u([{key:"sortNum",fn:function(){return[e("b",[t._v(t._s(s+1<10?"0"+(s+1):s+1))])]},proxy:!0}],null,!0)})})),1),t.isLoading?e("loading"):t._e(),t.isTheEnd?e("div",{staticClass:"theend"},[t._v("已经到底了,没有更多数据了")]):t._e()],1)},n=[],a=(e("d81d"),e("fb6a"),e("99af"),e("4d63"),e("ac1f"),e("25f0"),e("5319"),e("f382")),l=e("3a5e"),o={name:"Hot",components:{MusicList:a["a"],Loading:l["a"]},props:["musicObj"],data:function(){return{listInfo:{},hotList:[],allList:[],isLoading:!0,page:0,perpage:20,isTheEnd:!1}},created:function(){var t=this;this.axios.get("/playlist/detail?id=3778678").then((function(i){t.listInfo=i.data.playlist,t.allList=i.data.playlist.tracks.map((function(t,e){return t.song={privilege:i.data.privileges[e],artists:t.ar,album:t.al},t})),t.hotList=t.allList.slice(0,20)})),window.addEventListener("scroll",this.onScroll)},methods:{onScroll:function(){var t=document.documentElement.scrollHeight,i=document.documentElement.scrollTop,e=document.documentElement.clientHeight;if(t-10-i-e<0){this.isLoading=!0,this.page++;var s=this.page*this.perpage,n=(this.page+1)*this.perpage;this.hotList=this.hotList.concat(this.allList.slice(s,n)),this.isLoading=!1,this.hotList.length==this.allList.length?this.isTheEnd=!0:this.isTheEnd=!1}}},filters:{formatDate:function(t,i){var e=new Date(t),s={y:e.getFullYear(),m:e.getMonth()+1,d:e.getDate()};for(var n in s){var a=new RegExp(n),l=s[n];l=l<10?"0"+l:l,i=i.replace(a,l)}return i}},beforeRouteLeave:function(t,i,e){window.removeEventListener("scroll",this.onScroll),e()}},c=o,r=(e("1a35"),e("2877")),d=Object(r["a"])(c,s,n,!1,null,"21e43b32",null);i["default"]=d.exports},"1a35":function(t,i,e){"use strict";e("2f94")},"2f94":function(t,i,e){}}]);
//# sourceMappingURL=chunk-cc7c2e9e.7514ded3.js.map